---
title: "Headcount"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{headcount}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(utDataStoR)
```

Headcount is a measure of the net unduplicated number of students enrolled at Utah Tech for a specific period of time and how it is used for official reporting and inquiry.

This vignette will focus on defining headcount.

## Point In Time Headcount

The headcount based on the snapshot of the data on that day. --clean this up and define what it means.


## Current Headcount

The current net unduplicated headcount is the number of students enrolled. 

This headcount can vary by day during an academic term as it is active data.

The current headcount may also change after the semester ends if official changes are made to a student's withdrawal status.

```sql
   SELECT a.term_desc,
          COUNT(a.sis_system_id) AS current_headcount
     FROM export.student_term_level_version a
LEFT JOIN export.term b
       ON a.term_id = b.term_id
    WHERE a.is_enrolled IS TRUE
      AND a.is_primary_level IS TRUE
      AND a.version_desc = 'Current'
      AND DATE_PART('year', NOW()) - b.academic_year_code :: INT <= 5 -- Current term plus last 5 Years.
 GROUP BY a.term_desc
 ORDER BY a.term_desc;
``` 

## Census Headcount

The census headcount is the net unduplicated number of students who were enrolled as of the 15th day of instruction of an academic term. Based on snapshot data, this headcount returns a static headcount and is used for reporting.

```sql
...
AND a.version_desc = 'Census' --Version description of snapshot status.
...
```

## End of Term Headcount

The end of term headcount is the net unduplicated number of students who were enrolled at the end of the semester and after the HS Concurrent Enrollment grades are entered. Based on snapshot data, this headcount returns a static headcount and is used for reporting.

```sql
...
AND a.version_desc = 'End of Term' --Version description of snapshot status.
...
```

## IPEDS Headcount

The Fall Enrollment survey is based on a snapshot of Utah Tech's unduplicated Fall census enrollment headcount. 

## USHE Headcount

The USHE headcount is census headcount

The USHE headcount reports net headcount by extract five times per fiscal year:

- Summer End of Term
- Fall Census 
- Fall End of Term
- Spring Census
- Spring End of Term

**Census**: USHE Census Headcount is based on a snapshot of Utah tech's unduplicated academic term enrollment headcount. 

USHE's headcount is based on Census Headcount and modified to meet USHE criteria.

This definition is not the same as IPEDS Headcount.



Reporting for the Spring Census Students Data Submission file is based on the static net enrollment headcount for the 3rd week or 15th day of instruction for a Spring academic term.

**End of Term**: USHE Students Data Submission File

The end of term headcount is the net unduplicated number of students who were enrolled as of the final day of instruction of an academic term. This headcount is set as a static number that will not change as it is based on snapshot data and used as an official reporting metric.

- Example: The end of term headcount for Fall 2021 is 12,277.


